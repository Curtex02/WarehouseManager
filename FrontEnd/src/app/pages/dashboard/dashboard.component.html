<h2>Dashboard</h2>
<p>Welcome, {{ email }}</p>
<p>Your role: {{ role }}</p>

<!-- Navigation Bar -->
<nav class="nav-bar">
  <button (click)="selectTab('inventory')">Inventory</button>
  <button *ngIf="role === 'ADMIN'" (click)="selectTab('alter')">Alter Products</button>
  <button *ngIf="role === 'ADMIN'" (click)="selectTab('suppliers')">Suppliers</button>
  <button *ngIf="role === 'ADMIN'" (click)="selectTab('orders')">Orders</button>
  <button class="logout-btn" (click)="logout()">Logout</button>
</nav>

<!-- Tab Content -->
<div [ngSwitch]="selectedTab" class="tab-content">

  <!-- Inventory Tab -->
<div *ngSwitchCase="'inventory'">
  <h3>Inventory</h3>
  <p *ngIf="role === 'STAFF'">Viewing inventory (read-only)</p>

  <!-- Inventory Table -->
  <table>
    <thead>
      <tr>
        <th>SKU</th>
        <th>Quantity</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of inventoryItems">
        <td>{{ item.sku }}</td>
        <td>{{ item.quantity }}</td>
      </tr>
    </tbody>
  </table>
</div>


<!-- Alter Tab (Admin Only) -->
<div *ngSwitchCase="'alter'">
  <h3>Manage Products</h3>

  <!-- Product Form -->
  <form #productForm="ngForm" class="product-form">
    <div class="form-group">
      <label for="sku">SKU:</label>
      <input
        id="sku"
        type="number"
        placeholder="Enter SKU"
        required
        [(ngModel)]="newProduct.sku"
        name="sku"
      />
    </div>

    <div class="form-group">
      <label for="name">Product Name:</label>
      <input
        id="name"
        type="text"
        placeholder="Enter product name"
        [(ngModel)]="newProduct.name"
        name="name"
      />
    </div>

    <div class="form-group">
      <label for="description">Description:</label>
      <input
        id="description"
        type="text"
        placeholder="Enter description"
        [(ngModel)]="newProduct.description"
        name="description"
      />
    </div>

    <div class="form-group">
      <label for="initial_stock">Initial Stock:</label>
      <input
        id="initial_stock"
        type="number"
        placeholder="Enter initial stock"
        [(ngModel)]="newProduct.initial_stock"
        name="initial_stock"
      />
    </div>

    <!-- Action Buttons -->
    <div class="form-actions">
      <button type="button" (click)="addProduct()">Add Product</button>
      <button type="button" (click)="updateProduct()">Update Product</button>
      <button type="button" (click)="deleteProduct()">Delete Product</button>
      <button type="button" (click)="getProductDetails()">Get Product Details</button>
    </div>
  </form>
</div>

  <!-- Suppliers Tab (Admin Only) -->
  <div *ngSwitchCase="'suppliers'">
    <h3>Suppliers</h3>

<!-- Supplier Form -->
<form class="supplier-form">
  <label for="id">ID:</label>
  <input type="number" [(ngModel)]="newSupplier.id" name="id" />

  <label for="name">Name:</label>
  <input type="text" [(ngModel)]="newSupplier.name" name="name" />

  <label for="contact">Contact Info:</label>
  <input type="text" [(ngModel)]="newSupplier.contactInfo" name="contact" />

  <label for="rating">Rating:</label>
  <input type="text" [(ngModel)]="newSupplier.rating" name="rating" />

  <button type="button" (click)="addSupplier()">Add</button>
  <button type="button" (click)="updateSupplier()">Update</button>
  <button type="button" (click)="deleteSupplier()">Delete</button>
</form>

<!-- Supplier Table -->
<table>
  <thead>
    <tr>
      <th>ID</th><th>Name</th><th>Contact</th><th>Rating</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let supplier of suppliers">
      <td>{{ supplier.id }}</td>
      <td>{{ supplier.name }}</td>
      <td>{{ supplier.contactInfo }}</td>
      <td>{{ supplier.rating }}</td>
    </tr>
  </tbody>
</table>
  <!-- Orders Tab (Admin Only) -->
  <div *ngSwitchCase="'orders'">
    <h3>Orders</h3>
    <p>
      <button *ngIf="role === 'ADMIN'">Place Order</button>
      <button *ngIf="role === 'ADMIN'">Edit Order</button>
      <button *ngIf="role === 'ADMIN'">Delete Order</button>
    </p>
  </div>

  <!-- Fallback -->
  <div *ngSwitchDefault>
    <p>Select a tab</p>
  </div>
</div>
